"use strict";(self.webpackChunkechelon=self.webpackChunkechelon||[]).push([[283],{8283:(T,l,i)=>{i.r(l),i.d(l,{ActionlogOverviewModule:()=>O});var a=i(9808),r=i(6798),t=i(5e3),g=i(612),u=i(9697);function p(e,n){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&e){const o=n.$implicit;t.xp6(2),t.Oqu(o.dateTime),t.xp6(2),t.Oqu(o.operation),t.xp6(2),t.Oqu(o.recordType),t.xp6(2),t.Oqu(o.actionMessage),t.xp6(2),t.Oqu(o.userDisplayName)}}function m(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"Time"),t.qZA(),t.TgZ(6,"th",2),t._uU(7,"Oper"),t.qZA(),t.TgZ(8,"th",2),t._uU(9,"Item"),t.qZA(),t.TgZ(10,"th",2),t._uU(11,"Action"),t.qZA(),t.TgZ(12,"th",2),t._uU(13,"User"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,p,11,5,"tr",3),t.qZA()(),t.BQk()),2&e){const o=t.oxw();t.xp6(15),t.Q6J("ngForOf",o.data)}}let h=(()=>{class e{constructor(o,s,Z){this.api=o,this.cdr=s,this.toast=Z,this.today=new Date,this.TWOWEEKS=14,this.totalItems=0,this.totalPages=0,this.data=[],this.dataAvailable=!1,this.filter="",this.request={page:1,itemsPerPage:50,filter:this.filter,startDate:(new Date).setDate((this.today.getDate()-this.TWOWEEKS)/1e3)}}ngOnInit(){this.api.dataActionLogGetLogsPost(this.request).subscribe(o=>{var s;o.items&&(this.data=o.items,this.dataAvailable=(null===(s=o.items)||void 0===s?void 0:s.length)>0),o.totalItemCount&&(this.totalItems=o.totalItemCount),o.totalPages&&(this.totalPages=o.totalPages),o.message&&this.toast.warning(o.status,o.message),this.cdr.markForCheck()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g.ZJ),t.Y36(t.sBO),t.Y36(u.quB))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-operationslog"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(o,s){1&o&&t.YNc(0,m,16,1,"ng-container",0),2&o&&t.Q6J("ngIf",s.dataAvailable)},directives:[a.O5,a.sg],styles:[""],changeDetection:0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-actionlog"]],decls:3,vars:0,template:function(o,s){1&o&&(t.TgZ(0,"p"),t._uU(1,"Operations log"),t.qZA(),t._UZ(2,"app-operationslog"))},directives:[h],styles:[""]}),e})();var c=i(4515);const f=[{path:"",pathMatch:"full",component:d},{path:"**",component:c.n}];let v=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(f),c.n],r.Bz]}),e})();var A=i(783);let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,v,A.s]]}),e})()}}]);